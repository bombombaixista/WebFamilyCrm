# Runtime base (ASP.NET Core 8)
FROM mcr.microsoft.com/dotnet/aspnet:8.0 AS base
WORKDIR /app

# Railway usa porta 8080
ENV ASPNETCORE_URLS=http://0.0.0.0:8080
ENV ASPNETCORE_ENVIRONMENT=Production

# Copia apenas os binários já publicados
# Ajuste o caminho conforme onde está sua pasta publish
COPY ./bin/Release/net8.0/publish .

# Expõe a porta
EXPOSE 8080

# Entry point
ENTRYPOINT ["dotnet", "Kanban.dll"]
